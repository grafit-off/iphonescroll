{"version":3,"sources":["main.js"],"names":["animItems","document","querySelectorAll","scrollAnimate","windowBottom","window","innerHeight","scrollY","forEach","el","scrollOffset","offsetTop","classList","add","hasAttribute","remove","length","console","log","addEventListener","body","querySelector","modalButtons","lockPadding","modalCloseButtons","timeout","currentCloseBtn","bodyWasLock","previousActiveElement","unlock","index","modalCurrentButton","e","modalName","dataset","path","curentModal","getElementById","modalOpen","setTimeout","focus","preventDefault","modalClose","closest","activeElement","modalActive","bodyLock","target","doUnlock","bodyUnlock","lockPaddingValue","innerWidth","offsetWidth","style","paddingRight","contains","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],"mappings":"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","file":"main.js","sourcesContent":["// Includes\n// Animate In Scroll\r\n// class=\"animate-item\" data-animation='from-left' data-animation-once\r\nconst animItems = document.querySelectorAll('.animate-item');\r\n\r\nconst scrollAnimate = () => {\r\n\t// let windowCenter = (window.innerHeight / 2) + window.scrollY;\r\n\tlet windowBottom = window.innerHeight + window.scrollY - 300;\r\n\tanimItems.forEach((el) => {\r\n\t\tlet scrollOffset = el.offsetTop;\r\n\t\tif (windowBottom >= scrollOffset) {\r\n\t\t\tel.classList.add('animated')\r\n\t\t} else {\r\n\t\t\tlet animationRepeat = el.hasAttribute('data-animation-once');\r\n\t\t\tif (!animationRepeat) {\r\n\t\t\t\tel.classList.remove('animated')\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\nif (animItems.length != 0) {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице есть елементы анимации. Функция scrollAnimate включена!\"')\r\n\tscrollAnimate()\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tscrollAnimate()\r\n\t})\r\n} else {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице нету елементов анимации, НО функция scrollAnimate включена! Возможно вам стоит её отключить?\"')\r\n}\r\n\r\n// -- //;\nconst body = document.querySelector('body')\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\n\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet bodyWasLock;\r\nif (lockPadding.length == 0) {\r\n\tconsole.log('@MODALS: \"Не забудьте добавить класс \"lock-padding\" фиксированным элементам!\"')\r\n}\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tconsole.log(`Открыто модальное окно: ${modalName}`);\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Такого модального окна нету! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasLock = true;\r\n\t\tbody.classList.add('lock');\r\n\t} else {\r\n\t\tbodyWasLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasLock == true) {\r\n\t\t\tbody.classList.remove('lock');\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n// -- //\n"]}